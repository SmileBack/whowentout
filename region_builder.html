<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Google Maps JavaScript API Example: Simple Polygon</title>
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=AIzaSyCf2QMgXkzogwENbnEYdzfiTow2ptLJrHE" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>


    <style>
        #map_canvas {
            float: left;
        }
        #add_region {
            float: right;
            width: 400px;
            overflow: hidden;
        }
        form .points {
            width: 200px;
            height: 300px;
        }
    </style>

</head>
<body onload="" onunload="GUnload()">

<div id="map_canvas" style="width: 800px; height: 500px"></div>

<form id="add_region">

    <textarea class="points" name="points"></textarea>

    <input type="submit" value="Add" />

</form>

<script>
    var RegionMap = function(id) {
        this.id = id;

        this.map = new GMap2(document.getElementById(this.id));
        this.map.setUIToDefault();

        this.bounds = new GLatLngBounds();
    };
    RegionMap.prototype.setCenterAndZoom = function(center, zoom) {
        this.map.setCenter(new GLatLng(center[0], center[1]), zoom);
    };
    RegionMap.prototype.addPolygon = function(points) {
        var convertedPoints = [];
        for (var i = 0; i < points.length; i++)
            convertedPoints.push( new GLatLng(points[i][0], points[i][1]) );

        var polygon = new GPolygon(convertedPoints, "#f33f00", 3, 1, "#ff0000", 0.2);
        this.map.addOverlay(polygon);
    };
    RegionMap.prototype.pointsFromString = function(str) {
        var parts = str.split("\n");
        var points = [];
        for (var i = 0; i < parts.length; i++) {
            points.push([
              parseFloat(parts[i].split(',')[0]),
              parseFloat(parts[i].split(',')[1])
            ]);
        }
        return points;
    };
    RegionMap.prototype.addPolygonFromString = function(pointsStr) {
        var points = this.pointsFromString(pointsStr);
        this.addPolygon(points);
    };

    function initMap() {
        if (GBrowserIsCompatible()) {
            window.map = new RegionMap('map_canvas');
            map.setCenterAndZoom([40.76338, -73.96682], 12);
            var points = [
                [40.817, -73.976],
                [40.808, -73.955],
                [40.799, -73.956],
                [40.799, -73.956],
                [40.7667, -73.979],
                [40.778, -74.009]
            ];
//            map.addPolygon(points);
        }
    }

    $(function() {
        initMap();
    });

    $('form').on('submit', function(e) {
        e.preventDefault();
        var pointsString = $(this).find('.points').val();
        map.addPolygonFromString(pointsString);
    });

</script>



</body>
</html>
â€‹